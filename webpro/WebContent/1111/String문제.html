<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">

<style>
</style>

<script>
	function proc1() {
		
		// 입력
		input = prompt("주민번호를 입력해 주세요");
		
		// 각 자리별 추출
		s1 = input.slice(0,2);
		s2 = input.slice(2,4);
		s3 = input.slice(4,6);
		s4 = input.slice(7,8);
/* 		s1 = input.slice(0,2);
		s2 = input.slice(2,4);
		s3 = input.slice(4,6);
		s4 = input.slice(6,7); */
		
		// 성별 비교 s4가 1,3이면 남자 2,4이면 여자
		if(s4==1 || s4==3) {
			
			gender = "남자";
			
		}else if(s4==2 || s4==4) {
			
			gender = "여자";
		}
		
		// 년도비교 - s4가 1,2 이면 1900 3,4이면 2000
		if(s4==1 || s4==2) {
			yy = "19" + s1;
		} else if(s4==3 || s4==4) {
			yy = 2000 + parseInt(s1);
		}
		
		input = input.substring(0,8);
		res = `주민번호 : ${input}******<br>`;
		
		// 생년원일 출력내용
		/* res = "생년월일 : " + yy + "년 " + s2 + "월 " + s3 + "일 "; */
		res += `생년월일 : ${yy}년 ${s2}월 ${s3}일<br>`;
		// 성별 출력내용
		/* res += " 성별 : " + gender; */
		res += ` 성별 : ${gender} <br>`;
		// 나이 출력내용
		today = new Date();
		year = today.getFullYear();
		/* res += " 나이 : " + year - yy + 1; */
		res += `나이 : ${year - yy + 1}`;
		
		// result1에 res를 출력
		document.getElementById('result1').innerHTML = res;
	}
	
	function proc2() {
		
		input = prompt("주민번호 입력", "-은 빼고 입력");
		
		str = "234567892345";
		
		sum = 0;
		
		for(i=0; i<input.length-1; i++) {
			sum += input.substr(i,1) * str.substr(i,1);
		}
		
		result = 11 - sum % 11;
		//if(result == 10) result = 0;
		//else if(result == 11) result = 1;
		result = result % 10;
		
		input2 = input.substring(0,6);
		input3 = input.substr(6,1);
		res = `주민번호 : ${input2}-${input3}*****<br>`;
		
		if(result == input.charAt(12)) {
			res += "올바른 번호 입니다.";
		} else {
			res += "번호 오류입니다.";
		}
		
		document.getElementById('result2').innerHTML = res;
	}
</script>

</head>

<body>

	<div class="box">
		<h3>제목</h3>
		주민등록번호를 입력 받아 생년월일과 성별을 출력하는 프로그램을 작성하시오<br>
		(입력은 prompt로 입력받는다. : 110326-4432618)<br>
		<input type="button" value="확인" onclick="proc1()">
		<br>
		<div id="result1"></div>
	</div>

	<div class="box">
		<h3>제목</h3>
		주민등록번호를 입력 받아 생년월일과 성별을 출력하는 프로그램을 작성하시오<br>
		(입력은 prompt로 입력받는다. -은 빼고 입력 : 1103264432618)<br>
		A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.<br>
		1. 1번의 합을 11로 나눈 나머지를 구한다.<br>
		2. 11에서 2번의 결과를 뺀다.<br>
		3. 3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환<br>
		4. 4번의 결과와 M자리의 값이 같으면 맞는 번호이다.<br>
		<input type="button" value="확인" onclick="proc2()">
		<br>
		<div id="result2"></div>
	</div>

</body>
</html>